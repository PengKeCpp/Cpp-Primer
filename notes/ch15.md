# 第十五章 面向对象程序设计

## 15.1 OOP：概述

对于某些函数希望它的派生类各自定义自己的版本，此时基类将这些函数声明成**虚函数**。

```cpp
class Quote {
public:
    std::string isbn() const;
    virtual double net_price(size_t n) const;
};
```

派生类必须通过**类派生列表**明确指出哪个基类继承而来，在C++11中派生类改写基类的虚函数时，可以在该函数的形参列表之后增加一个**override**关键字。

```cpp
class Bulk_quote ： public Quote{
public:
    double net_price(size_t )const override;
};
```

在C++语言中，当我们使用基类的引用或指针调用一个虚函数时将发生**动态绑定**，传入哪个对象调用哪个对象的函数。

```cpp
double print_total(ostream& os, const Quote &item, size_t n) {
	double ret = item.net_price(n);
    os << "ISBN: " << item.isbn()
       << " # sold：" << n << " total due: " << ret << endl;
    return ret;
}
```

## 15.2  定义基类和派生类

